<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Preserving the back button on Ajax pages · Matt Sherman</title>

	
	<meta name="author" content="Matt Sherman">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />	
	
	
		<link href="/css/style.1a06080349bc0b24fbb08cfbdb348140e092ab3dbfe7446a53ee338183c13f07.css" rel="stylesheet">

	

	

	<link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
	<link rel="apple-touch-icon" href="/img/apple-touch-icon.png">

</head>
<body>
	<header>
	<nav>
		<a href="https://clipperhouse.com">clipperhouse.com</a>
		<span class="sep">·</span>
		<a href="/about/">about matt</a>
		<span class="sep">·</span>
		<a href="/jargon/">jargon</a>
		<span class="sep">·</span>
		<a href="/gen/overview/">gen</a>
		<span class="sep">·</span>
		<a href="/stack-correlations/">tag correlations</a>
		<span class="sep">·</span>
		<a href="/classical/">classical radio</a>
	</nav>
</header>

	
	<main class="single">
		<article>
			<h1>Preserving the back button on Ajax pages</h1>
			<div>
				<p>So, I’ve been going a little Ajax crazy lately. I am using a <a href="http://www.alistapart.com/articles/understandingprogressiveenhancement/">progressive enhancement</a> approach — make everything work solidly without Javascript, then drizzle on some Ajaxy goodness as refinement.</p>
<p>One problem is, on an Ajax-driven page, your user “loses” the use of the back button. It’s caused a mismatch between what the user and the browser consider to be a “new page”.</p>
<p>You’ll note that in your Ajax page, when the user clicks to a new “page state”, the URL doesn’t change. Now the user and the browser have a different concept of “last page”. And so, if the user hits the back button, they will be taken to the last URL, not the last “page” as the user understands it. That last URL might have been 10 clicks ago.</p>
<p>In trying to work around it, I found the problem to be surprisingly complex. But I’ve found a <a href="http://www.asual.com/jquery/address/">life-saver of jQuery plugin</a> that solves exactly this.</p>
<p>It does two things: first, it changes the URL on every Ajax click. Second, the plugin “records” the page history in a hidden frame. So now your browser sees each page state as a new page — just like your user. The back button magically works.</p>
<p>This also provides the advantage of deep-linking: each Ajax page state gets its own URL, so you can link directly to that state. Brilliant.</p>

			</div>
		</article>
		<div class="post-meta">
			<p>—</p>
			<p>Published by Matt Sherman on January 19, 2010</p>
			<p>
				
					<a href="https://clipperhouse.com/google-throws-down-the-gauntlet-on-ie6-you-and-i-get-a-free-ride/" class="prev">← Google throws down the gauntlet on IE6; you and I get a free ride</a>
				
				
					<a href="https://clipperhouse.com/will-apple-emulate-the-kindle-everywhere-strategy/" class="next">Will Apple emulate the “Kindle everywhere” strategy? →</a>
				
			</p>
		</div>
	</main>

	<footer>

</footer>

</body>

</html>
