<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>My New Hugo Site  | Modal performance in browsers, or, exploiting z-index</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.40.3" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.ab4b67a3ea25990fa8279f3b7ef08b61.css" rel="stylesheet">
    

    

    
      
    

    

    <meta property="og:title" content="Modal performance in browsers, or, exploiting z-index" />
<meta property="og:description" content="I did a little test. I am using jQuery UI’s dialog, and setting it to be draggable. Pretty standard stuff — after all, dragging windows around your computer is commonplace.
A quick look into task manager and I see that dragging that modal around spikes the CPU to around 50%! (And this is with Chrome, an exceptionally fast browser.) Doing the same with a simple Windows file window pushes the CPU to only 10%." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/blog/modal-performance-in-browsers-or-exploiting-zindex/" />



<meta property="article:published_time" content="2010-01-15T13:42:39&#43;00:00"/>

<meta property="article:modified_time" content="2010-01-15T13:42:39&#43;00:00"/>











<meta itemprop="name" content="Modal performance in browsers, or, exploiting z-index">
<meta itemprop="description" content="I did a little test. I am using jQuery UI’s dialog, and setting it to be draggable. Pretty standard stuff — after all, dragging windows around your computer is commonplace.
A quick look into task manager and I see that dragging that modal around spikes the CPU to around 50%! (And this is with Chrome, an exceptionally fast browser.) Doing the same with a simple Windows file window pushes the CPU to only 10%.">


<meta itemprop="datePublished" content="2010-01-15T13:42:39&#43;00:00" />
<meta itemprop="dateModified" content="2010-01-15T13:42:39&#43;00:00" />
<meta itemprop="wordCount" content="372">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Modal performance in browsers, or, exploiting z-index"/>
<meta name="twitter:description" content="I did a little test. I am using jQuery UI’s dialog, and setting it to be draggable. Pretty standard stuff — after all, dragging windows around your computer is commonplace.
A quick look into task manager and I see that dragging that modal around spikes the CPU to around 50%! (And this is with Chrome, an exceptionally fast browser.) Doing the same with a simple Windows file window pushes the CPU to only 10%."/>

  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="http://example.org/" class="f3 fw2 hover-white no-underline white-90 dib">
      My New Hugo Site
    </a>
    <div class="flex-l items-center">
      
      








    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  <article class="flex-l flex-wrap justify-between mw8 center">

    <header class="mt4 w-100">
      <p class="f6 b helvetica tracked">
          
        BLOGS
      </p>
      <h1 class="f1 athelas mb1">Modal performance in browsers, or, exploiting z-index</h1>
      
      <time class="f6 mv4 dib tracked" datetime="2010-01-15T13:42:39Z">January 15, 2010</time>
    </header>

    <main class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>I did a little test. I am using <a href="http://jqueryui.com/demos/dialog/">jQuery UI’s dialog</a>, and setting it to be draggable. Pretty <a href="http://www.scottberkun.com/blog/2010/the-future-of-ui-will-be-boring/">standard stuff</a> — after all, dragging windows around your computer is commonplace.</p>

<p>A quick look into task manager and I see that <strong>dragging that modal around spikes the CPU to around 50%!</strong> (And this is with Chrome, an exceptionally fast browser.) Doing the same with a simple Windows file window pushes the CPU to only 10%. Further, the modal is always a few pixels behind the mouse, which feels sloppy to an end user.</p>

<p>Why does the browser need to work so hard to do the “same” thing? Well, <strong>the browser has no idea what a modal is</strong>. It simply knows that there is a chunk of HTML that is changing position. And so, with each microscopic change, <strong>the browser must recalculate the entire page’s layout</strong>, probably dozens of times per second. As with other jQuery tricks, we are <a href="/blog/post/Hammering-the-DOM.aspx">hammering the DOM</a>.</p>

<p>The goal of Google and other browser makers is to push performance so that Web apps feel like native apps. Of course, we need to keep browsers capable of working with standard HTML/JS/CSS — ignorant of the <em>goals</em> of that code — but certainly there are optimizations to be found.</p>

<p>Here’s one: <strong>a browser should infer when an HTML element is on a z-index that does not affect other parts of the DOM</strong>. It should then know to minimize the reflow redraw when that element moves. This would require many fewer layout calculations and CPU cycles.</p>

<p>Of course, this inference is easier said than done. It would need to look at all the z-indexes of all elements on the page, CSS position attributes, possibly some widths. (The browser maker might document that list of requirements, so that libraries could be optimized against them.) But once the browser makes this determination, the modal should perform at close to native speed.</p>

<p>Maybe it can’t be done. Maybe there is no correct determination of “independence” for one piece of the DOM.</p>

<p>But it would be interesting to find out. Dialogs and windows are such a fundamental part of UI’s and user experience that this would be a modest, yet substantial, step forward for the Web.</p>
<ul class="pa0">
  
</ul>
<div class="mt6">
        
      </div>
    </main>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-near-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://example.org/" >
    &copy; 2018 My New Hugo Site
  </a>
  








  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
