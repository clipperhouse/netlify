<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Modal performance in browsers, or, exploiting z-index" />
<meta property="og:description" content="I did a little test. I am using jQuery UI’s dialog, and setting it to be draggable. Pretty standard stuff — after all, dragging windows around your computer is commonplace.
A quick look into task manager and I see that dragging that modal around spikes the CPU to around 50%! (And this is with Chrome, an exceptionally fast browser.) Doing the same with a simple Windows file window pushes the CPU to only 10%." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://clipperhouse.netlify.com/blog/modal-performance-in-browsers-or-exploiting-zindex/" />



<meta property="article:published_time" content="2010-01-15T13:42:39&#43;00:00"/>

<meta property="article:modified_time" content="2010-01-15T13:42:39&#43;00:00"/>











<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Modal performance in browsers, or, exploiting z-index"/>
<meta name="twitter:description" content="I did a little test. I am using jQuery UI’s dialog, and setting it to be draggable. Pretty standard stuff — after all, dragging windows around your computer is commonplace.
A quick look into task manager and I see that dragging that modal around spikes the CPU to around 50%! (And this is with Chrome, an exceptionally fast browser.) Doing the same with a simple Windows file window pushes the CPU to only 10%."/>
<meta name="generator" content="Hugo 0.40.3" />


    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Modal performance in browsers, or, exploiting z-index",
  "url": "https://clipperhouse.netlify.com/blog/modal-performance-in-browsers-or-exploiting-zindex/",
  "wordCount": "372",
  "datePublished": "2010-01-15T13:42:39&#43;00:00",
  "dateModified": "2010-01-15T13:42:39&#43;00:00",
  "author": {
    "@type": "Person",
    "name": ""
  }
}
</script>



    <link rel="canonical" href="https://clipperhouse.netlify.com/blog/modal-performance-in-browsers-or-exploiting-zindex/">

    <title>Modal performance in browsers, or, exploiting z-index | clipperhouse</title>

    <!-- combined, minified CSS -->
    <link href="https://clipperhouse.netlify.com/css/style.css" rel="stylesheet" integrity="sha384-TbfEhJn4HkgPUIZUhhHaAYsycYKHxSuIloCjZOiyCSpbVunRQxg5T5pxKVFwxilF" crossorigin="anonymous">

    

    

    

    

  </head>

  <body>

    
    <div class="blog-masthead">
      <div class="container">
        <nav class="nav blog-nav">
          <a class="nav-link " href="https://clipperhouse.netlify.com/">Home</a>
        </nav>
      </div>
    </div>
    

    
    <header class="blog-header">
      <div class="container">
        <h1 class="blog-title"><a href="https://clipperhouse.netlify.com/" rel="home">clipperhouse</a></h1>
        
      </div>
    </header>
    

    
    <div class="container">
      <div class="row">
        <div class="col-sm-8 blog-main">

          


<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="https://clipperhouse.netlify.com/blog/modal-performance-in-browsers-or-exploiting-zindex/">Modal performance in browsers, or, exploiting z-index</a></h2>
    <p class="blog-post-meta"><time datetime="2010-01-15T13:42:39Z">Fri Jan 15, 2010</time> by </p>
  </header>
  <p>I did a little test. I am using <a href="http://jqueryui.com/demos/dialog/">jQuery UI’s dialog</a>, and setting it to be draggable. Pretty <a href="http://www.scottberkun.com/blog/2010/the-future-of-ui-will-be-boring/">standard stuff</a> — after all, dragging windows around your computer is commonplace.</p>

<p>A quick look into task manager and I see that <strong>dragging that modal around spikes the CPU to around 50%!</strong> (And this is with Chrome, an exceptionally fast browser.) Doing the same with a simple Windows file window pushes the CPU to only 10%. Further, the modal is always a few pixels behind the mouse, which feels sloppy to an end user.</p>

<p>Why does the browser need to work so hard to do the “same” thing? Well, <strong>the browser has no idea what a modal is</strong>. It simply knows that there is a chunk of HTML that is changing position. And so, with each microscopic change, <strong>the browser must recalculate the entire page’s layout</strong>, probably dozens of times per second. As with other jQuery tricks, we are <a href="/blog/post/Hammering-the-DOM.aspx">hammering the DOM</a>.</p>

<p>The goal of Google and other browser makers is to push performance so that Web apps feel like native apps. Of course, we need to keep browsers capable of working with standard HTML/JS/CSS — ignorant of the <em>goals</em> of that code — but certainly there are optimizations to be found.</p>

<p>Here’s one: <strong>a browser should infer when an HTML element is on a z-index that does not affect other parts of the DOM</strong>. It should then know to minimize the reflow redraw when that element moves. This would require many fewer layout calculations and CPU cycles.</p>

<p>Of course, this inference is easier said than done. It would need to look at all the z-indexes of all elements on the page, CSS position attributes, possibly some widths. (The browser maker might document that list of requirements, so that libraries could be optimized against them.) But once the browser makes this determination, the modal should perform at close to native speed.</p>

<p>Maybe it can’t be done. Maybe there is no correct determination of “independence” for one piece of the DOM.</p>

<p>But it would be interesting to find out. Dialogs and windows are such a fundamental part of UI’s and user experience that this would be a modest, yet substantial, step forward for the Web.</p>


  

  
  <hr>
  <footer>

  
    <section>
    <h4>Share</h4>
    <nav class="nav sharing-icons">
      <a class="nav-item" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fclipperhouse.netlify.com%2fblog%2fmodal-performance-in-browsers-or-exploiting-zindex%2f" title="Share on Facebook"><span class="fa fa-facebook fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://plus.google.com/share?url=https%3a%2f%2fclipperhouse.netlify.com%2fblog%2fmodal-performance-in-browsers-or-exploiting-zindex%2f" title="Share on Google+"><span class="fa fa-google-plus fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fclipperhouse.netlify.com%2fblog%2fmodal-performance-in-browsers-or-exploiting-zindex%2f" title="Share on LinkedIn"><span class="fa fa-linkedin fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://twitter.com/home?status=https%3a%2f%2fclipperhouse.netlify.com%2fblog%2fmodal-performance-in-browsers-or-exploiting-zindex%2f" title="Tweet this"><span class="fa fa-twitter fa-2x"></span></a>
    </nav>
  </section>

  

  
  </footer>
  

</article> 



        </div> <!-- /.blog-main -->

        <aside class="col-sm-3 ml-auto blog-sidebar">
  

  

  
</aside>


      </div> <!-- /.row -->
    </div> <!-- /.container -->
    

    
    <footer class="blog-footer">
      <p>
      
      Blog template created by <a href="https://twitter.com/mdo">@mdo</a>, ported to Hugo by <a href='https://twitter.com/mralanorth'>@mralanorth</a>.
      
      </p>
      <p>
      <a href="#">Back to top</a>
      </p>
    </footer>
    

  </body>

</html>
