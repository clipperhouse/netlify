<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="Displaying the Subversion revision number in your web application" />
<meta property="og:description" content="I found a nice technique for automatically displaying the SVN revision number in the footer of a web site. It is based in CruiseControl.Net.
Why would I do this? Well, we don’t have a strict version numbering convention for our app. We roll out incremental builds all the time. This falls under the technique of “continuous integration”, or in Google’s case, “eternal beta”. So it’s easier just to have the app give itself an incremental version number each time, that corresponds with our build process." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://clipperhouse.netlify.com/blog/displaying-the-subversion-revision-number-in-your-web-application/" />



<meta property="article:published_time" content="2009-05-26T22:28:00&#43;00:00"/>

<meta property="article:modified_time" content="2009-05-26T22:28:00&#43;00:00"/>











<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Displaying the Subversion revision number in your web application"/>
<meta name="twitter:description" content="I found a nice technique for automatically displaying the SVN revision number in the footer of a web site. It is based in CruiseControl.Net.
Why would I do this? Well, we don’t have a strict version numbering convention for our app. We roll out incremental builds all the time. This falls under the technique of “continuous integration”, or in Google’s case, “eternal beta”. So it’s easier just to have the app give itself an incremental version number each time, that corresponds with our build process."/>
<meta name="generator" content="Hugo 0.40.3" />


    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "Displaying the Subversion revision number in your web application",
  "url": "https://clipperhouse.netlify.com/blog/displaying-the-subversion-revision-number-in-your-web-application/",
  "wordCount": "269",
  "datePublished": "2009-05-26T22:28:00&#43;00:00",
  "dateModified": "2009-05-26T22:28:00&#43;00:00",
  "author": {
    "@type": "Person",
    "name": ""
  }
}
</script>



    <link rel="canonical" href="https://clipperhouse.netlify.com/blog/displaying-the-subversion-revision-number-in-your-web-application/">

    <title>Displaying the Subversion revision number in your web application | clipperhouse</title>

    <!-- combined, minified CSS -->
    <link href="https://clipperhouse.netlify.com/css/style.css" rel="stylesheet" integrity="sha384-TbfEhJn4HkgPUIZUhhHaAYsycYKHxSuIloCjZOiyCSpbVunRQxg5T5pxKVFwxilF" crossorigin="anonymous">

    

    

    

    

  </head>

  <body>

    
    <div class="blog-masthead">
      <div class="container">
        <nav class="nav blog-nav">
          <a class="nav-link " href="https://clipperhouse.netlify.com/">Home</a>
        </nav>
      </div>
    </div>
    

    
    <header class="blog-header">
      <div class="container">
        <h1 class="blog-title"><a href="https://clipperhouse.netlify.com/" rel="home">clipperhouse</a></h1>
        
      </div>
    </header>
    

    
    <div class="container">
      <div class="row">
        <div class="col-sm-8 blog-main">

          


<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="https://clipperhouse.netlify.com/blog/displaying-the-subversion-revision-number-in-your-web-application/">Displaying the Subversion revision number in your web application</a></h2>
    <p class="blog-post-meta"><time datetime="2009-05-26T22:28:00Z">Tue May 26, 2009</time> by </p>
  </header>
  <p>I found a nice technique for automatically displaying the SVN revision number in the footer of a web site. It is based in <a href="http://ccnet.thoughtworks.com/">CruiseControl.Net</a>.</p>

<p>Why would I do this? Well, we don’t have a strict version numbering convention for our app. We roll out incremental builds all the time. This falls under the technique of “continuous integration”, or in Google’s case, “eternal beta”. So it’s easier just to have the app give itself an incremental version number each time, that corresponds with our build process.</p>

<p>First, go get the SVN revision labeller and follow the instructions: <a href="http://code.google.com/p/svnrevisionlabeller/">http://code.google.com/p/svnrevisionlabeller/</a></p>

<p>This will automatically write the revision number in the .state file associated with your CruiseControl project. This file is usually stored at C:\Program Files\CruiseControl.NET\server[ProjectName].state</p>

<p>It’s just an XML file, so you can read the contents. Using a bit of Linq to XML, I am able to grab that data on the fly:</p>

<p>[code:c#]using System.Xml.Linq;<br />
using System.IO;</p>

<p>public string GetRevisionLabel()<br />
{<br />
 string result = String.Empty;<br />
 string stateFilePath = “C:\Program Files\CruiseControl.NET\server\MyProject.state”;<br />
 if (HttpContext.Current.Application[“BuildLabel”] != null)<br />
 {<br />
 result = (string)HttpContext.Current.Application[“BuildLabel”];<br />
 }<br />
 else if (File.Exists(stateFilePath))<br />
 {<br />
 XDocument stateFileRoot = XDocument.Load(stateFilePath);</p>

<p>var q = (from label in stateFileRoot.Descendants(“Label”)<br />
 select (string)label).SingleOrDefault();</p>

<p>if (q != null)<br />
 {<br />
 result = q.ToString();<br />
 HttpContext.Current.Application[“BuildLabel”] = result;<br />
 }<br />
 }<br />
 return result;<br />
}[/code]</p>

<p>Now display it wherever you like. In this case, you can see that I cache it for performance and easy access.</p>

<p>Security note: you might not want your web process reaching into the Program Files folder. I copy the .state files to App_Data as part of the build process, and query them there.</p>

<p>Hope this helps.</p>

<p>— —</p>

<p>Inspired by: <a href="http://stackoverflow.com/questions/913904/why-would-a-site-display-svn-version-and-what-are-the-advantages">http://stackoverflow.com/questions/913904/why-would-a-site-display-svn-version-and-what-are-the-advantages</a></p>


  

  
  <hr>
  <footer>

  
    <section>
    <h4>Share</h4>
    <nav class="nav sharing-icons">
      <a class="nav-item" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fclipperhouse.netlify.com%2fblog%2fdisplaying-the-subversion-revision-number-in-your-web-application%2f" title="Share on Facebook"><span class="fa fa-facebook fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://plus.google.com/share?url=https%3a%2f%2fclipperhouse.netlify.com%2fblog%2fdisplaying-the-subversion-revision-number-in-your-web-application%2f" title="Share on Google+"><span class="fa fa-google-plus fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fclipperhouse.netlify.com%2fblog%2fdisplaying-the-subversion-revision-number-in-your-web-application%2f" title="Share on LinkedIn"><span class="fa fa-linkedin fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://twitter.com/home?status=https%3a%2f%2fclipperhouse.netlify.com%2fblog%2fdisplaying-the-subversion-revision-number-in-your-web-application%2f" title="Tweet this"><span class="fa fa-twitter fa-2x"></span></a>
    </nav>
  </section>

  

  
  </footer>
  

</article> 



        </div> <!-- /.blog-main -->

        <aside class="col-sm-3 ml-auto blog-sidebar">
  

  

  
</aside>


      </div> <!-- /.row -->
    </div> <!-- /.container -->
    

    
    <footer class="blog-footer">
      <p>
      
      Blog template created by <a href="https://twitter.com/mdo">@mdo</a>, ported to Hugo by <a href='https://twitter.com/mralanorth'>@mralanorth</a>.
      
      </p>
      <p>
      <a href="#">Back to top</a>
      </p>
    </footer>
    

  </body>

</html>
