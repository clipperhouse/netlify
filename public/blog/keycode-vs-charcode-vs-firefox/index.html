<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta property="og:title" content="keyCode vs charCode vs Firefox" />
<meta property="og:description" content="I am working on a filtered HTML field. The idea is to only allow alphanumeric characters to be typed, and have all other keystrokes ignored.
I am using the keypress event in jQuery to capture the keystrokes — my function returns true for valid characters (which simply passes the event to the field) and false for everything else (which kills the event before it can “reach” the field).
The behavior was fine in IE and Chrome, but not in Firefox." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://clipperhouse.netlify.com/blog/keycode-vs-charcode-vs-firefox/" />



<meta property="article:published_time" content="2009-11-17T15:35:50&#43;00:00"/>

<meta property="article:modified_time" content="2009-11-17T15:35:50&#43;00:00"/>











<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="keyCode vs charCode vs Firefox"/>
<meta name="twitter:description" content="I am working on a filtered HTML field. The idea is to only allow alphanumeric characters to be typed, and have all other keystrokes ignored.
I am using the keypress event in jQuery to capture the keystrokes — my function returns true for valid characters (which simply passes the event to the field) and false for everything else (which kills the event before it can “reach” the field).
The behavior was fine in IE and Chrome, but not in Firefox."/>
<meta name="generator" content="Hugo 0.40.3" />


    
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "headline": "keyCode vs charCode vs Firefox",
  "url": "https://clipperhouse.netlify.com/blog/keycode-vs-charcode-vs-firefox/",
  "wordCount": "314",
  "datePublished": "2009-11-17T15:35:50&#43;00:00",
  "dateModified": "2009-11-17T15:35:50&#43;00:00",
  "author": {
    "@type": "Person",
    "name": ""
  }
}
</script>



    <link rel="canonical" href="https://clipperhouse.netlify.com/blog/keycode-vs-charcode-vs-firefox/">

    <title>keyCode vs charCode vs Firefox | clipperhouse</title>

    <!-- combined, minified CSS -->
    <link href="https://clipperhouse.netlify.com/css/style.css" rel="stylesheet" integrity="sha384-TbfEhJn4HkgPUIZUhhHaAYsycYKHxSuIloCjZOiyCSpbVunRQxg5T5pxKVFwxilF" crossorigin="anonymous">

    

    

    

    

  </head>

  <body>

    
    <div class="blog-masthead">
      <div class="container">
        <nav class="nav blog-nav">
          <a class="nav-link " href="https://clipperhouse.netlify.com/">Home</a>
        </nav>
      </div>
    </div>
    

    
    <header class="blog-header">
      <div class="container">
        <h1 class="blog-title"><a href="https://clipperhouse.netlify.com/" rel="home">clipperhouse</a></h1>
        
      </div>
    </header>
    

    
    <div class="container">
      <div class="row">
        <div class="col-sm-8 blog-main">

          


<article class="blog-post">
  <header>
    <h2 class="blog-post-title"><a href="https://clipperhouse.netlify.com/blog/keycode-vs-charcode-vs-firefox/">keyCode vs charCode vs Firefox</a></h2>
    <p class="blog-post-meta"><time datetime="2009-11-17T15:35:50Z">Tue Nov 17, 2009</time> by </p>
  </header>
  <p>I am working on a filtered HTML field. The idea is to only allow alphanumeric characters to be typed, and have all other keystrokes ignored.</p>

<p>I am using the <a href="http://docs.jquery.com/Events/keypress">keypress event</a> in jQuery to capture the keystrokes — my function returns true for valid characters (which simply passes the event to the field) and false for everything else (which kills the event before it can “reach” the field).</p>

<p>The behavior was fine in IE and Chrome, but not in Firefox. My script was suppressing the arrow keys in only that browser. Certainly, a user should be able to arrow back and forth within the field they are editing.</p>

<p>The problem is twofold. First, different browsers fire the keypress event for some keystrokes, but not all. Chrome and IE didn’t fire the event when using the arrow keys, while Firefox did. Secondly, the keystroke’s value will appear in e.keyCode property in some browsers, but in the e.charCode property in others. Jeez Louise.</p>

<p>This <a href="http://www.quirksmode.org/js/keys.html">quirksmode article</a> turned out to be a lifesaver. He exhaustively catalogs the differences across browsers, and provides a very valuable little test app (scroll to the bottom of that page).</p>

<p>So, short story long, here is a simple script that I ended up with, I hope it’s useful to you.
<code>$(&amp;#34;#username&amp;#34;).keypress(function(e) {  
    var k = e.keyCode || e.charCode;  
    var c = e.charCode;  
    var isArrow = (c == 0 &amp;amp;&amp;amp; k &amp;gt;= 37 &amp;amp;&amp;amp; k &amp;lt;= 40);  
    var isSpecial = ((k == 8) || (k == 9) || (k == 127)) || isArrow;    // backspace, tab, delete  
    var isOK = (k &amp;gt;= 48 &amp;amp;&amp;amp; k &amp;lt;= 57) || (k &amp;gt;= 65 &amp;amp;&amp;amp; k &amp;lt;= 90) || (k &amp;gt;= 97 &amp;amp;&amp;amp; k &amp;lt;= 122);  // letters and numbers  
    return isOK || isSpecial;  
});</code></p>

<p>It hasn’t been exhaustively tested, but is in the “works for me” stage right now. Let me know if it’s helpful.</p>


  

  
  <hr>
  <footer>

  
    <section>
    <h4>Share</h4>
    <nav class="nav sharing-icons">
      <a class="nav-item" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fclipperhouse.netlify.com%2fblog%2fkeycode-vs-charcode-vs-firefox%2f" title="Share on Facebook"><span class="fa fa-facebook fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://plus.google.com/share?url=https%3a%2f%2fclipperhouse.netlify.com%2fblog%2fkeycode-vs-charcode-vs-firefox%2f" title="Share on Google+"><span class="fa fa-google-plus fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fclipperhouse.netlify.com%2fblog%2fkeycode-vs-charcode-vs-firefox%2f" title="Share on LinkedIn"><span class="fa fa-linkedin fa-2x" aria-hidden="true"></span></a>
      <a class="nav-item" href="https://twitter.com/home?status=https%3a%2f%2fclipperhouse.netlify.com%2fblog%2fkeycode-vs-charcode-vs-firefox%2f" title="Tweet this"><span class="fa fa-twitter fa-2x"></span></a>
    </nav>
  </section>

  

  
  </footer>
  

</article> 



        </div> <!-- /.blog-main -->

        <aside class="col-sm-3 ml-auto blog-sidebar">
  

  

  
</aside>


      </div> <!-- /.row -->
    </div> <!-- /.container -->
    

    
    <footer class="blog-footer">
      <p>
      
      Blog template created by <a href="https://twitter.com/mdo">@mdo</a>, ported to Hugo by <a href='https://twitter.com/mralanorth'>@mralanorth</a>.
      
      </p>
      <p>
      <a href="#">Back to top</a>
      </p>
    </footer>
    

  </body>

</html>
