<!DOCTYPE html>
<html lang="en-us">
<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-8534189-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-8534189-2');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="renderer" content="webkit">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>What if ‘source code’ were a serialized syntax tree? · Matt Sherman</title>
  <meta name="description" content="At the risk of revealing my lack of a CompSci degree: what if ‘source code’ were replaced by serialized syntax trees?">
  <meta name="author" content="Matt Sherman">
  <link href="/css/style.css?3" rel="stylesheet">
  
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">

  <meta name="generator" content="Hugo 0.45.1">

  <link rel="alternate" type="application/atom+xml" href="/index.xml" title="clipperhouse.com">


<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="@clipperhouse" />
<meta name="twitter:site" content="@clipperhouse" />
<meta property="og:url" content="https://clipperhouse.com/what-if-source-code-were-a-serialized-syntax-tree/" />
<meta name="twitter:title" content="What if ‘source code’ were a serialized syntax tree? · Matt Sherman" />
<meta property="og:title" content="What if ‘source code’ were a serialized syntax tree? · Matt Sherman" />
<meta name="twitter:description" content="At the risk of revealing my lack of a CompSci degree: what if ‘source code’ were replaced by serialized syntax trees?" />
<meta property="og:description" content="At the risk of revealing my lack of a CompSci degree: what if ‘source code’ were replaced by serialized syntax trees?" />
<meta name="twitter:image" content="https://clipperhouse.com/img/apple-touch-icon.png" />
<meta property="og:image" content="https://clipperhouse.com/img/apple-touch-icon.png" />
</head>
<body class="single ">
  <header class="header">
    
    <p class="title"><a href="/">clipperhouse.com</a></p>
    
    <button class="menu-toggle" type="button"></button>
    <nav class="menu">
      <ul>
        
        
        <li class="">
          <a href="/about/">about</a>
        </li>
        
      </ul>
    </nav>
  </header>

  <script type="text/javascript">
    function toggleMenu() {
        var menu = document.querySelector('nav.menu');
        menu.style.display = menu.style.display == "none" ? "block" : "none";
    }
    document.querySelector('button.menu-toggle').onclick = toggleMenu;
  </script>
  <main class="main">

<article class="post post-view">
  <header class="post-header">
  <h1 class="post-title"><a href="https://clipperhouse.com/what-if-source-code-were-a-serialized-syntax-tree/">What if ‘source code’ were a serialized syntax tree?</a></h1>
</header>
<div class="post-content">
  <p>At the risk of revealing my lack of a CompSci degree: what if ‘source code’ were replaced by serialized syntax trees?</p>

<p>What if the canonical ‘source’ of an application were not source code, as created by humans, but rather a serialized format of the syntax tree?</p>

<p>The workflow would go like this. You check out the repository. You make changes, and debug, to your satisfaction. Your <em>local</em> changes are still ‘source code’ as we currently understand it.</p>

<p>Then, instead of committing your changes, you feed your source code to the complier/interpreter, which creates a naive syntax tree. This syntax tree preserves the names of your symbols, and does no optimization.</p>

<p>The syntax tree is then decompiled into new source code, and written out. It is logically and semantically the identical to the original text, but style choices you may have made are swept away.</p>

<p>The generated source code is still meant for human consumption. It would need to preserve things like names and comments.</p>

<p>Among the things that are obviated: formatting, obviously, but also storage. The serialization includes rules for how the tree is persisted to disk.</p>

<p>It also means that changesets consist <strong>solely of logical &amp; semantic changes</strong>. Syntactic and formatting changes are eliminated. IDE’s could facilitate a lot of this. Heck, perhaps this process could happen <em>right inside source control</em>, with the appropriate plugins.</p>

<p>The idea would be to eliminate a class of friction within teams. Fewer subjective decisions.</p>

<p>(This might remind you of whitespace-significant languages, which are good for disposing of formatting arguments among programmers.)</p>

<p>I don’t doubt this would require a fair amount of work so that it functions for humans. My question is, is there a <em>logical</em> dealbreaker in this idea? I suspect it’s been attempted, and would love to hear stories.</p>

<p><a href="https://news.ycombinator.com/item?id=5490663">discuss on hacker news</a></p>

<p><em>Addendum: it didn’t take long for it to be pointed out that this is a thing, and that Lisp is the canonical example. So a further question: what human factors prevent it from becoming common?</em></p>

</div>
<footer class="post-footer">
  

  <p class="post-meta">Published by Matt Sherman on April 4, 2013. <a href="https://mobile.twitter.com/clipperhouse">Find me at @clipperhouse</a>.
  </p>

</footer>
</article>

</main>

</body>
</html>

